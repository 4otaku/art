<form action="" method="get" class="admin-tag-filter">
	<input type="text" value="{$filter}" name="filter" />
	<button class="btn">
		Фильтровать
	</button>
</form>
<div class="clear"></div>
<div class="error" id="listener_admin_tag_error"></div>
<script type="text/javascript">
	add('listener', 'admin_tag_error', function(error){
		if (!error) {
			this.el.hide();
		} else {
			this.el.html(error).show();
		}
	});
</script>
<table class="admin-tag-table">
	<tbody>
		<tr>
			<th width="15%">Имя:</th>
			<th width="5%"></th>
			<th>Варианты:</th>
			<th width="180px">Цвет:</th>
			<th width="240px">Опции:</th>
		</tr>
		{loop="data"}
			<tr>
				<td class="name">
					<div id="admin_tag_name_{$value.id}">
						<span>{$value.name}</span>
						<input type="text" value="{$value.name}" class="hidden" />
					</div>
					<script type="text/javascript">
						add('admin_tag_name', '{$value.id}',
								{init_val: '{$value.name}'});
					</script>
				</td>
				<td></td>
				<td>
					<div id="admin_tag_variant_{$value.id}">
						<span>{$value.variant}</span>
						<input type="text" value="{$value.variant}" class="hidden" />
					</div>
					<script type="text/javascript">
						add('admin_tag_variant', '{$value.id}',
								{init_val: '{$value.variant}'});
					</script>
				</td>
				<td class="center">
					<div id="admin_tag_color_{$value.id}">
						<span style="color: #{$value.color};">
							{$value.color_name}
						</span>
						<select class="hidden">
							{loop="colors"}
								<option value="{$key}" style="color: #{$key};">
									{$value}
								</option>
							{/loop}
						</select>
					</div>
					<script type="text/javascript">
						add('admin_tag_color', '{$value.id}',
								{init_val: '{$value.color}'});
					</script>
				</td>
				<td class="center">
					<button class="btn btn-small"
					        id="admin_tag_start_merge_{$value.id}">
						Объединить
					</button>
					<button class="btn btn-danger btn-small"
					        id="admin_tag_delete_{$value.id}">
						Удалить
					</button>
					<a href="/?tag={$value.name}"
					   class="btn btn-small" target="_blank">
						Просмотреть
					</a>
					<script type="text/javascript">
						add('admin_tag_start_merge', '{$value.id}');
					</script>
					<script type="text/javascript">
						add('admin_tag_delete', '{$value.id}', '{$value.name}');
					</script>
				</td>
			</tr>
		{/loop}
	</tbody>
</table>
{$module_paginator}